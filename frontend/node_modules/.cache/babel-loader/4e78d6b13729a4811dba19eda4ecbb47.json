{"ast":null,"code":"import _slicedToArray from\"/home/akshaj/projects_js/pokedex/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/** @jsx jsx */import{jsx,css}from\"@emotion/core\";import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import{remove,edit}from\"../collectionSlice\";var CollectionCard=function CollectionCard(props){// Get the collectionObj using props for displaying pokemon in\n// collection cards.\nvar collectionObj=props.collectionObj;var dispatch=useDispatch();// Initialise state for renaming collection.\nvar _useState=useState(collectionObj.name),_useState2=_slicedToArray(_useState,2),collectionName=_useState2[0],setCollectionName=_useState2[1];// Edit state is initialised with a \"no\"\nvar _useState3=useState(\"no\"),_useState4=_slicedToArray(_useState3,2),isEdit=_useState4[0],setIsEdit=_useState4[1];// Initialise state for removing pokemon from a collection.\nvar _useState5=useState(collectionObj.pokemons),_useState6=_slicedToArray(_useState5,2),pokemonList=_useState6[0],setPokemonList=_useState6[1];// Remove collection from the store.\nvar handleRemoveCollection=function handleRemoveCollection(collectionId){dispatch(remove({id:collectionId}));};// Toggle edit functionality of a card.\nvar handleEditToggle=function handleEditToggle(){if(isEdit===\"no\"){setIsEdit(\"yes\");setCollectionName(collectionObj.name);}else{setIsEdit(\"no\");setCollectionName(collectionObj.name);setPokemonList(collectionObj.pokemons);}};// Remove pokemon from a collection.\nvar handleRemovePokemon=function handleRemovePokemon(pokeName){var newPokemonList=pokemonList.filter(function(poke){return poke!==pokeName;});setPokemonList(newPokemonList);};// Rename collection.\nvar handleCollectionNameChange=function handleCollectionNameChange(e){setCollectionName(e.target.value);};// Save the changes made to a card.\n// This involves renaming a collection and editing the pokemon list.\nvar handleSave=function handleSave(collectionId){dispatch(edit({id:collectionId,editedName:collectionName,editedPokemonList:pokemonList}));setIsEdit(\"no\");};return jsx(\"div\",{css:{\"display\":\"flex\",\"flexDirection\":\"column\",\"--bg-opacity\":\"1\",\"backgroundColor\":\"rgba(44, 82, 130, var(--bg-opacity))\",\":hover\":{\"--bg-opacity\":\"1\",\"backgroundColor\":\"rgba(42, 67, 101, var(--bg-opacity))\"},\"height\":\"100%\",\"boxShadow\":\"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)\",\"--text-opacity\":\"1\",\"color\":\"rgba(247, 250, 252, var(--text-opacity))\",\"borderRadius\":\"0.5rem\",\"overflow\":\"auto\",\"margin\":\"0.25rem\"}},isEdit===\"no\"?// if edit mode is off, then display the the collections as is.\njsx(\"section\",null,jsx(\"div\",{css:{\"display\":\"flex\",\"flexDirection\":\"row\",\"justifyContent\":\"flex-end\",\"paddingTop\":\"0.25rem\",\"paddingBottom\":\"0.25rem\",\"paddingLeft\":\"0.5rem\",\"paddingRight\":\"0.5rem\"}},jsx(\"button\",{onClick:handleEditToggle,css:{\"marginLeft\":\"0.25rem\",\"marginRight\":\"0.25rem\",\"padding\":\"0.25rem\",\"borderRadius\":\"0.25rem\",\":hover\":{\"--text-opacity\":\"1\",\"color\":\"rgba(255, 255, 255, var(--text-opacity))\",\"fontWeight\":\"600\",\"padding\":\"0.25rem\"}}},\"edit\"),jsx(\"button\",{onClick:function onClick(){return handleRemoveCollection(collectionObj.id);},css:{\"marginLeft\":\"0.25rem\",\"marginRight\":\"0.25rem\",\"padding\":\"0.25rem\",\"borderRadius\":\"0.25rem\",\":hover\":{\"--text-opacity\":\"1\",\"color\":\"rgba(255, 255, 255, var(--text-opacity))\",\"fontWeight\":\"600\",\"padding\":\"0.25rem\"}}},\"delete\")),jsx(\"div\",{css:{\"display\":\"flex\",\"flexDirection\":\"row\",\"justifyContent\":\"space-around\",\"paddingTop\":\"1rem\",\"paddingBottom\":\"3rem\",\"paddingLeft\":\"0.5rem\",\"paddingRight\":\"0.5rem\"}},jsx(\"div\",{css:{\"marginTop\":\"auto\",\"marginBottom\":\"auto\",\"fontSize\":\"1.25rem\",\"@media (min-width: 768px)\":{\"fontSize\":\"1.125rem\"}}},jsx(\"h3\",{css:{\"--bg-opacity\":\"1\",\"backgroundColor\":\"rgba(128, 90, 213, var(--bg-opacity))\",\"whiteSpace\":\"pre-line\",\"borderRadius\":\"0.25rem\",\"paddingLeft\":\"1rem\",\"paddingRight\":\"1rem\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\",\"textAlign\":\"center\",\"fontWeight\":\"700\",\"fontSize\":\"1.125rem\",\"@media (min-width: 640px)\":{\"fontSize\":\"1.25rem\"},\"@media (min-width: 768px)\":{\"padding\":\"0.5rem\",\"fontSize\":\"1.125rem\"}}},collectionObj.name)),jsx(\"div\",{css:{\"width\":\"66.666667%\",\"marginTop\":\"auto\",\"marginBottom\":\"auto\",\"textAlign\":\"center\",\"@media (min-width: 640px)\":{\"fontSize\":\"1.125rem\"},\"@media (min-width: 768px)\":{\"fontSize\":\"1rem\"}}},jsx(\"ul\",null,collectionObj.pokemons.map(function(poke){return jsx(\"li\",{key:poke,css:{\"--text-opacity\":\"1\",\"color\":\"rgba(26, 32, 44, var(--text-opacity))\",\"fontWeight\":\"600\",\"--bg-opacity\":\"1\",\"backgroundColor\":\"rgba(247, 250, 252, var(--bg-opacity))\",\"padding\":\"0.25rem\",\"borderRadius\":\"0.25rem\",\"margin\":\"0.25rem\"}},poke);}))))):// if edit mode is on, display an <input /> element in the place of collection name and\n// display \"x\" buttons to delete pokemon from the collection.\n// Also display a \"cancel\" and \"save\" button.\njsx(\"div\",null,jsx(\"section\",null,jsx(\"div\",{css:{\"display\":\"flex\",\"flexDirection\":\"row\",\"justifyContent\":\"space-between\",\"paddingTop\":\"0.25rem\",\"paddingBottom\":\"0.25rem\",\"paddingLeft\":\"0.5rem\",\"paddingRight\":\"0.5rem\"}},jsx(\"button\",{onClick:handleEditToggle,css:{\"marginLeft\":\"0.25rem\",\"marginRight\":\"0.25rem\",\"padding\":\"0.25rem\",\"borderRadius\":\"0.25rem\",\":hover\":{\"--text-opacity\":\"1\",\"color\":\"rgba(255, 255, 255, var(--text-opacity))\",\"fontWeight\":\"600\",\"padding\":\"0.25rem\"}}},\"cancel\"),jsx(\"button\",{onClick:function onClick(){return handleSave(collectionObj.id);},css:{\"marginLeft\":\"0.25rem\",\"marginRight\":\"0.25rem\",\"padding\":\"0.25rem\",\"borderRadius\":\"0.25rem\",\":hover\":{\"--text-opacity\":\"1\",\"color\":\"rgba(255, 255, 255, var(--text-opacity))\",\"fontWeight\":\"600\",\"padding\":\"0.25rem\"}}},\"save\")),jsx(\"div\",{css:{\"display\":\"flex\",\"flexDirection\":\"row\",\"justifyContent\":\"space-around\",\"paddingTop\":\"1rem\",\"paddingBottom\":\"2rem\",\"paddingLeft\":\"0.5rem\",\"paddingRight\":\"0.5rem\"}},jsx(\"div\",{css:{\"marginTop\":\"auto\",\"marginBottom\":\"auto\",\"fontSize\":\"1.25rem\",\"@media (min-width: 768px)\":{\"fontSize\":\"1.125rem\"}}},jsx(\"input\",{value:collectionName,onChange:handleCollectionNameChange,css:{\"--bg-opacity\":\"1\",\"backgroundColor\":\"rgba(128, 90, 213, var(--bg-opacity))\",\"whiteSpace\":\"pre-line\",\"borderRadius\":\"0.25rem\",\"paddingLeft\":\"0.25rem\",\"paddingRight\":\"0.25rem\",\"paddingTop\":\"1rem\",\"paddingBottom\":\"1rem\",\"textAlign\":\"center\",\"fontWeight\":\"700\",\"fontSize\":\"1.125rem\",\"@media (min-width: 640px)\":{\"fontSize\":\"1.25rem\"},\"@media (min-width: 768px)\":{\"padding\":\"0.5rem\",\"fontSize\":\"1.125rem\"}}})),jsx(\"div\",{css:{\"width\":\"66.666667%\",\"marginTop\":\"auto\",\"marginBottom\":\"auto\",\"textAlign\":\"center\",\"@media (min-width: 640px)\":{\"fontSize\":\"1.125rem\"},\"@media (min-width: 768px)\":{\"fontSize\":\"1rem\"}}},jsx(\"ul\",null,pokemonList.map(function(poke){return jsx(\"li\",{key:poke,css:{\"display\":\"flex\",\"flexDirection\":\"row\",\"justifyContent\":\"space-between\",\"alignItems\":\"center\",\"--text-opacity\":\"1\",\"color\":\"rgba(26, 32, 44, var(--text-opacity))\",\"marginLeft\":\"1rem\",\"marginRight\":\"1rem\",\"fontWeight\":\"600\",\"--bg-opacity\":\"1\",\"backgroundColor\":\"rgba(247, 250, 252, var(--bg-opacity))\",\"padding\":\"0.25rem\",\"marginTop\":\"0.25rem\",\"marginBottom\":\"0.25rem\",\"borderRadius\":\"0.25rem\"}},jsx(\"p\",null,poke),jsx(\"button\",{onClick:function onClick(){return handleRemovePokemon(poke);},css:{\"fontWeight\":\"600\",\"--bg-opacity\":\"1\",\"backgroundColor\":\"rgba(155, 44, 44, var(--bg-opacity))\",\"margin\":\"0.25rem\",\"paddingLeft\":\"0.5rem\",\"paddingRight\":\"0.5rem\",\"paddingTop\":\"0.25rem\",\"paddingBottom\":\"0.25rem\",\"borderRadius\":\"9999px\",\"--text-opacity\":\"1\",\"color\":\"rgba(247, 250, 252, var(--text-opacity))\"}},\"x\"));})))))));};export default CollectionCard;","map":{"version":3,"sources":["/home/akshaj/projects_js/pokedex/frontend/src/features/home/components/CollectionCard.js"],"names":["jsx","css","React","useState","useDispatch","remove","edit","CollectionCard","props","collectionObj","dispatch","name","collectionName","setCollectionName","isEdit","setIsEdit","pokemons","pokemonList","setPokemonList","handleRemoveCollection","collectionId","id","handleEditToggle","handleRemovePokemon","pokeName","newPokemonList","filter","poke","handleCollectionNameChange","e","target","value","handleSave","editedName","editedPokemonList","map"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\"\nimport tw from \"twin.macro\"\nimport React, { useState } from \"react\"\n\nimport { useDispatch } from \"react-redux\"\nimport { remove, edit } from \"../collectionSlice\"\n\nconst CollectionCard = props => {\n  // Get the collectionObj using props for displaying pokemon in\n  // collection cards.\n  const { collectionObj } = props\n  const dispatch = useDispatch()\n  // Initialise state for renaming collection.\n  const [collectionName, setCollectionName] = useState(collectionObj.name)\n  // Edit state is initialised with a \"no\"\n  const [isEdit, setIsEdit] = useState(\"no\")\n  // Initialise state for removing pokemon from a collection.\n  const [pokemonList, setPokemonList] = useState(collectionObj.pokemons)\n\n  // Remove collection from the store.\n  const handleRemoveCollection = collectionId => {\n    dispatch(remove({ id: collectionId }))\n  }\n\n  // Toggle edit functionality of a card.\n  const handleEditToggle = () => {\n    if (isEdit === \"no\") {\n      setIsEdit(\"yes\")\n      setCollectionName(collectionObj.name)\n    } else {\n      setIsEdit(\"no\")\n      setCollectionName(collectionObj.name)\n      setPokemonList(collectionObj.pokemons)\n    }\n  }\n\n  // Remove pokemon from a collection.\n  const handleRemovePokemon = pokeName => {\n    const newPokemonList = pokemonList.filter(poke => poke !== pokeName)\n    setPokemonList(newPokemonList)\n  }\n\n  // Rename collection.\n  const handleCollectionNameChange = e => {\n    setCollectionName(e.target.value)\n  }\n\n  // Save the changes made to a card.\n  // This involves renaming a collection and editing the pokemon list.\n  const handleSave = collectionId => {\n    dispatch(\n      edit({\n        id: collectionId,\n        editedName: collectionName,\n        editedPokemonList: pokemonList,\n      })\n    )\n    setIsEdit(\"no\")\n  }\n\n  return (\n    <div tw=\"flex flex-col bg-blue-800 hover:bg-blue-900 h-full shadow-lg text-gray-100 rounded-lg overflow-auto m-1\">\n      {/* conditional render based on edit button. */}\n      {isEdit === \"no\" ? (\n        // if edit mode is off, then display the the collections as is.\n        <section>\n          <div tw=\"flex flex-row justify-end py-1 px-2\">\n            <button\n              onClick={handleEditToggle}\n              tw=\"mx-1 p-1 rounded hover:text-white hover:font-semibold hover:p-1\"\n            >\n              edit\n            </button>\n            <button\n              onClick={() => handleRemoveCollection(collectionObj.id)}\n              tw=\"mx-1 p-1 rounded hover:text-white hover:font-semibold hover:p-1\"\n            >\n              delete\n            </button>\n          </div>\n          <div tw=\"flex flex-row justify-around pt-4 pb-12 px-2\">\n            <div tw=\"my-auto text-xl md:text-lg\">\n              <h3 tw=\"bg-purple-600 whitespace-pre-line rounded px-4 py-2 md:p-2 text-center font-bold text-lg sm:text-xl md:text-lg\">\n                {collectionObj.name}\n              </h3>\n            </div>\n            <div tw=\"w-2/3 my-auto text-center sm:text-lg md:text-base\">\n              <ul>\n                {collectionObj.pokemons.map(poke => (\n                  <li\n                    key={poke}\n                    tw=\"text-gray-900 font-semibold bg-gray-100 p-1 rounded m-1\"\n                  >\n                    {poke}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </section>\n      ) : (\n        // if edit mode is on, display an <input /> element in the place of collection name and\n        // display \"x\" buttons to delete pokemon from the collection.\n        // Also display a \"cancel\" and \"save\" button.\n        <div>\n          <section>\n            <div tw=\"flex flex-row justify-between py-1 px-2\">\n              <button\n                onClick={handleEditToggle}\n                tw=\"mx-1 p-1 rounded hover:text-white hover:font-semibold hover:p-1\"\n              >\n                cancel\n              </button>\n              <button\n                onClick={() => handleSave(collectionObj.id)}\n                tw=\"mx-1 p-1 rounded hover:text-white hover:font-semibold hover:p-1\"\n              >\n                save\n              </button>\n            </div>\n            <div tw=\"flex flex-row justify-around pt-4 pb-8 px-2\">\n              <div tw=\"my-auto text-xl md:text-lg\">\n                <input\n                  value={collectionName}\n                  onChange={handleCollectionNameChange}\n                  tw=\"bg-purple-600 whitespace-pre-line rounded px-1 py-4 md:p-2 text-center font-bold text-lg sm:text-xl md:text-lg\"\n                />\n              </div>\n              <div tw=\"w-2/3 my-auto text-center sm:text-lg md:text-base\">\n                <ul>\n                  {pokemonList.map(poke => (\n                    <li\n                      key={poke}\n                      tw=\"flex flex-row justify-between items-center text-gray-900 mx-4 font-semibold bg-gray-100 p-1 my-1 rounded\"\n                    >\n                      <p>{poke}</p>\n                      <button\n                        onClick={() => handleRemovePokemon(poke)}\n                        tw=\"font-semibold bg-red-800 m-1 px-2 py-1 rounded-full text-gray-100\"\n                      >\n                        x\n                      </button>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </section>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default CollectionCard\n"]},"metadata":{},"sourceType":"module"}