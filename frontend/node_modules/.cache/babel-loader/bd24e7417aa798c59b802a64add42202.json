{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\"; // intialize a counter for collection id.\n\nlet collectionId = 1;\nconst initialState = {\n  collectionList: []\n};\nexport const collectionSlice = createSlice({\n  name: \"collection\",\n  initialState: initialState,\n  reducers: {\n    // create a collection only if the same name does not already exists.\n    create: (state, action) => {\n      if (action.payload !== \"\") {\n        const doesCollectionNameExist = state.collectionList.find(cn => cn.name === action.payload);\n\n        if (!doesCollectionNameExist) {\n          state.collectionList.push({\n            id: collectionId,\n            name: action.payload,\n            pokemons: []\n          });\n          collectionId++;\n        } else {\n          alert(`Collection name \"${action.payload}\" already exists. Please choose another name.`);\n        }\n      } else {\n        alert(\"Collection name cannot be blank.\");\n      }\n    },\n    // add pokemon to a collection\n    add: (state, action) => {\n      // get the index of the selected collection in the collectionList array using the collection ID.\n      const collectionListIndex = state.collectionList.findIndex(x => x.id === action.payload.id);\n      const collectionName = state.collectionList.find(c => c.id === action.payload.id).name; // If collection exists, then push the pokemon in it.\n\n      if (collectionListIndex !== -1) {\n        if ( // If a pokemon with the same name already exists, do not put into the list.\n        // Instead, alert the user.\n        state.collectionList[collectionListIndex].pokemons.includes(action.payload.pokemon)) {\n          alert(`${action.payload.pokemon} already exists in collection ${collectionName}.`);\n        } else {\n          state.collectionList[collectionListIndex].pokemons.push(action.payload.pokemon);\n        }\n      }\n    },\n    // remove a collection.\n    remove: (state, action) => {\n      const collectionIdToRemove = action.payload.id;\n      const collectionIdRemoveIndex = state.collectionList.findIndex(col => col.id === collectionIdToRemove);\n\n      if (collectionIdRemoveIndex !== -1) {\n        state.collectionList.splice(collectionIdRemoveIndex, 1);\n      }\n    },\n    // Edit collection name and pokemon in it.\n    edit: (state, action) => {\n      const collectionIdToEdit = action.payload.id;\n      const editedName = action.payload.editedName;\n      const editedPokemonList = action.payload.editedPokemonList;\n      const collectionIdEditIndex = state.collectionList.findIndex(col => col.id === collectionIdToEdit);\n\n      if (collectionIdEditIndex !== -1) {\n        state.collectionList[collectionIdEditIndex].name = editedName;\n        state.collectionList[collectionIdEditIndex].pokemons = editedPokemonList;\n      }\n    }\n  }\n});\nexport const selectorCollection = state => state.collection.collectionList;\nexport const {\n  create,\n  add,\n  remove,\n  edit\n} = collectionSlice.actions;\nexport default collectionSlice.reducer;","map":{"version":3,"sources":["/home/akshaj/projects_js/pokedex/src/features/home/collectionSlice.js"],"names":["createSlice","collectionId","initialState","collectionList","collectionSlice","name","reducers","create","state","action","payload","doesCollectionNameExist","find","cn","push","id","pokemons","alert","add","collectionListIndex","findIndex","x","collectionName","c","includes","pokemon","remove","collectionIdToRemove","collectionIdRemoveIndex","col","splice","edit","collectionIdToEdit","editedName","editedPokemonList","collectionIdEditIndex","selectorCollection","collection","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\"\n\n// intialize a counter for collection id.\nlet collectionId = 1\n\nconst initialState = {\n  collectionList: [],\n}\n\nexport const collectionSlice = createSlice({\n  name: \"collection\",\n  initialState: initialState,\n  reducers: {\n    // create a collection only if the same name does not already exists.\n    create: (state, action) => {\n      if (action.payload !== \"\") {\n        const doesCollectionNameExist = state.collectionList.find(\n          cn => cn.name === action.payload\n        )\n\n        if (!doesCollectionNameExist) {\n          state.collectionList.push({\n            id: collectionId,\n            name: action.payload,\n            pokemons: [],\n          })\n          collectionId++\n        } else {\n          alert(\n            `Collection name \"${action.payload}\" already exists. Please choose another name.`\n          )\n        }\n      } else {\n        alert(\"Collection name cannot be blank.\")\n      }\n    },\n    // add pokemon to a collection\n    add: (state, action) => {\n      // get the index of the selected collection in the collectionList array using the collection ID.\n      const collectionListIndex = state.collectionList.findIndex(\n        x => x.id === action.payload.id\n      )\n\n      const collectionName = state.collectionList.find(\n        c => c.id === action.payload.id\n      ).name\n\n      // If collection exists, then push the pokemon in it.\n      if (collectionListIndex !== -1) {\n        if (\n          // If a pokemon with the same name already exists, do not put into the list.\n          // Instead, alert the user.\n          state.collectionList[collectionListIndex].pokemons.includes(\n            action.payload.pokemon\n          )\n        ) {\n          alert(\n            `${action.payload.pokemon} already exists in collection ${collectionName}.`\n          )\n        } else {\n          state.collectionList[collectionListIndex].pokemons.push(\n            action.payload.pokemon\n          )\n        }\n      }\n    },\n    // remove a collection.\n    remove: (state, action) => {\n      const collectionIdToRemove = action.payload.id\n\n      const collectionIdRemoveIndex = state.collectionList.findIndex(\n        col => col.id === collectionIdToRemove\n      )\n\n      if (collectionIdRemoveIndex !== -1) {\n        state.collectionList.splice(collectionIdRemoveIndex, 1)\n      }\n    },\n    // Edit collection name and pokemon in it.\n    edit: (state, action) => {\n      const collectionIdToEdit = action.payload.id\n      const editedName = action.payload.editedName\n      const editedPokemonList = action.payload.editedPokemonList\n\n      const collectionIdEditIndex = state.collectionList.findIndex(\n        col => col.id === collectionIdToEdit\n      )\n\n      if (collectionIdEditIndex !== -1) {\n        state.collectionList[collectionIdEditIndex].name = editedName\n        state.collectionList[collectionIdEditIndex].pokemons = editedPokemonList\n      }\n    },\n  },\n})\n\nexport const selectorCollection = state => state.collection.collectionList\nexport const { create, add, remove, edit } = collectionSlice.actions\nexport default collectionSlice.reducer\n"]},"metadata":{},"sourceType":"module"}